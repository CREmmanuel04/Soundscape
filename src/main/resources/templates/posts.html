<!DOCTYPE html>
<html>
<head>
    <title>Posts - Soundscape</title>
</head>
<body>
<h1>Posts Page</h1>
<p>This is the posts page. It works!</p>
<a href="/">Back to Home</a>

<!--POST CREATION FORM-->
<form action="/posts" method="post">
    <input type="text" name="content">
    <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}"/> <!--CSRF token for security-->
    <button>Post</button>
</form>

<!--POSTS DISPLAY SECTION -->
<div style="margin-top: 2rem;">
    <h2>Recent Posts</h2>

    <!-- Show message if no posts -->
    <div th:if="${posts.isEmpty()}">
        <p>No posts yet. Be the first to post something!</p>
    </div>

    <!-- Loop through each post from the database -->
    <div th:each="post : ${posts}" style="border: 1px solid #ccc; padding: 1rem; margin: 1rem 0;">
        <div style="font-weight: bold;" th:text="${post.author}">Author</div>
        <div th:text="${post.content}">Post content</div>
        <div style="font-size: 0.8rem; color: #666;"
             th:text="${#temporals.format(post.createdAt, 'MMM dd, yyyy HH:mm')}">
            Timestamp
        </div>
    </div>
</div>

</body>
</html>